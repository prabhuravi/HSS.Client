<div class="kx-row" *ngIf="!excludeSearch" style="margin-top: 10px;margin-bottom: 2px;">
  <div class="kx-col kx-col--12 kx-col--3@tab-m kx-col--6@mob-m">
    <div class="kx-mt--tiny">
      <p-autoComplete [(ngModel)]="searchedContact" [suggestions]="contacts" inputStyleClass="kx-field kx-field--size-base"
        (completeMethod)="filterPortContact($event)" field="firstName" [size]="30"
        placeholder="Seach contacts" [minLength]="3">
      </p-autoComplete>
    </div>
  </div>
</div>
<app-load *ngIf="isDataLoading"></app-load>
<p-table [columns]="cols" [value]="contacts" dataKey="id" editMode="row"  #tt [paginator]="true" [rows]="PRIMENG_CONSTANTS.rowCount" [rowsPerPageOptions]="[5,10,20,50,100,200,500]"
  tableStyleClass="kx-table kx-table--outer-border" autoLayout="true">
  <ng-template pTemplate="header" let-columns>
    <tr>
       <th *ngFor="let col of columns" [pSortableColumn]="col.sortfield"
          [ngClass]="{'u--cursorPointer': col.sortfield !== ''}"
          title="{{(col.sortfield!=='') ? 'Click to sort' : ''}}">
          {{col.header}}
          <p-sortIcon *ngIf="col.sortfield !== ''" [field]="col.field" ariaLabel="Activate to sort"
              ariaLabelDesc="Activate to sort in descending order"
              ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
      </th>
  </tr>
  <tr>
         <th *ngFor="let col of columns">
        <input pInputText type="text" *ngIf="col.filterMatchMode && col.filterMatchMode !== ''"
            class="kx-field kx-field--size-base u--field--size-small" placeholder="Type to filter"
            (input)="tt.filter($event.target.value, col.field, col.filterMatchMode)">
            
    </th>
    
  </tr>
  </ng-template>
  <ng-template pTemplate="body"  let-rowData>
    <tr *ngIf="rowData">
      <td>{{ rowData.firstName }}</td>
      <td>{{ rowData.surName }}</td>
      <td>{{ rowData.email }}</td>
      <td>{{ rowData.alternativePhone }}</td>
      <td>{{ rowData.phone }}</td>
      <td>{{ rowData.role ? rowData.role.name : ''}}</td>
      <td>
        <p-checkbox [name]="rowData.id + rowData.firstName" [(ngModel)]="rowData.tagTraining" [disabled]="true" [binary]="true"></p-checkbox>
      </td>
      <td>
        <button class="kx-btn kx-btn--skin-secondary kx-btn--size-tiny kx-btn--icon" aria-label="Edit contact"
          title="Edit contact" (click)="onContactEditInit(rowData)">
          <span class="kx-btn__inner">
            <i class="kx-icon kx-icon--size-moderate">
              <svg focusable="true">
                <use href="./assets/img/icons/sprites/icons.svg#pencil"></use>
              </svg>
            </i>
            <span class="kx-btn__txt kx-is-vishidden">Edit contact</span>
          </span>
        </button>
        <button class="kx-btn kx-btn--skin-secondary kx-btn--size-tiny kx-btn--icon" aria-label="Delete contact"
          title="Delete contact" (click)="onContactDelete(rowData)">
          <span class="kx-btn__inner">
            <i class="kx-icon kx-icon--size-moderate">
              <svg focusable="true">
                <use href="./assets/img/icons/sprites/icons.svg#trash"></use>
              </svg>
            </i>
            <span class="kx-btn__txt kx-is-vishidden">Delete contact</span>
          </span>
        </button>
      </td>
    </tr>
  </ng-template>
</p-table>