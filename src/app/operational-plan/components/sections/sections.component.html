<div class="kx-card kx-card--skin-default">
    <div class="kx-p--tiny kx-p--medium@mob-m">
        <div class="kx-row">
            <div class="kx-col kx-col--12 kx-col--3@tab-m kx-col--6@mob-m">
                <label class="kx-label" for="selectbox1">Section Name</label>
                <div class="kx-mt--tiny">
                    <input  class="kx-field kx-field--size-base"
                    type="text" placeholder="Enter Section Name" />
                </div>
            </div>
            <div class="kx-col kx-col--12 kx-col--3@tab-m kx-col--6@mob-m">
                <label class="kx-label" for="selectbox1">Status</label>
                <div class="kx-mt--tiny">
                    <p-dropdown styleClass="kx-p--tiny" [options]="statusList"
                        placeholder="Section Status" [(ngModel)]="sectionStatusSelceted"
                        optionLabel="Name"></p-dropdown>
                </div>
            </div>
          
            <div class="kx-col kx-col--12 kx-col--3@tab-m kx-col--6@mob-m">
                <button (click)="saveSection()" style="position: initial;"
                    class="kx-btn kx-btn--skin-secondary kx-btn--size-base kx-mt--tiny kx-mt--medium@mob-m">
                    <span class="kx-btn__inner">
                        <span class="kx-btn__txt">Add Section</span>
                    </span>
                </button>
            </div>
        </div>
    </div>
</div>
<div class="kx-pt--small">
    <!-- <div class="kx-col kx-col--12">
        <app-load *ngIf="isDataLoading"></app-load>
        <div class="kx-card kx-card--skin-default" *ngIf="config && config.formList && config.formList.length>0">
          <form [formGroup]="formData" (ngSubmit)="onSubmit()">
                    <app-dynamic-form [form]="formData" [formValues]="formValues" [config]="config"
              (formOnchangeEvent)="formOnchangeEvent($event)">
            </app-dynamic-form>
                       
                <div class="kx-col kx-col--4">
                    <button type="submit" class="kx-btn kx-btn--skin-primary kx-btn--size-base">
                        <span class="kx-btn__inner">
                            <span class="kx-btn__txt">Add Section</span>
                        </span>
                    </button>
                </div>
               
          
          </form>
        </div>
      </div> -->

  <p-table [columns]="cols" [value]="sections" dataKey="id" editMode="row" [paginator]="true"
    [rows]="PRIMENG_CONSTANTS.rowCount" rowExpandMode="single" tableStyleClass="kx-table kx-table--outer-border"
    autoLayout="true">
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th style="width: 3rem"></th>
        <th *ngFor="let col of columns">
          {{ col.header }}
        </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-editing="editing" let-ri="rowIndex" let-expanded="expanded">
      <tr [pEditableRow]="section">
        <td class="kx-p--small">
          <a href="#" [pRowToggler]="rowData">
            <i [ngClass]="
                expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'
              "></i>
          </a>
        </td>
        <td>{{ rowData.name }}</td>
        <td></td>
        <!-- <td>{{ sectionStatus[rowData.Status] }}</td> -->
        <td pEditableColumn>
          <p-cellEditor>
            <ng-template pTemplate="input">
              <p-dropdown [options]="statusList" optionLabel="name"
                (onChange)="onSectionStatusChange(rowData,statusList)"></p-dropdown>
            </ng-template>
            <ng-template pTemplate="output">
              {{ sectionStatus[rowData.status] }}
            </ng-template>
          </p-cellEditor>
        </td>
        <td>
          <button *ngIf="!rowData.selected" pButton pRipple type="button" pInitEditableRow icon="pi pi-pencil"
            (click)="onRowEditInit(rowData)" class="p-button-rounded p-button-text"
            style="margin-left: 15px;font-size: 25px;"></button>
          <button *ngIf="rowData.selected" pButton pRipple type="button" pSaveEditableRow icon="pi pi-check"
            (click)="onRowEditSave(rowData)" class="p-button-rounded p-button-text p-button-success p-mr-2"
            style="margin-left: 15px;font-size: 25px;"></button>
          <button *ngIf="rowData.selected" pButton pRipple type="button" pCancelEditableRow icon="pi pi-times"
            (click)="onRowEditCancel(rowData)" class="p-button-rounded p-button-text p-button-danger"
            style="margin-left: 15px;font-size: 25px;"></button>
          <button *ngIf="!rowData.selected" pButton pRipple type="button" icon="pi pi-trash"
            class="p-button-rounded p-button-text" style="margin-left: 15px;font-size: 25px;"></button>
          <button *ngIf="!rowData.selected" pButton pRipple type="button" icon="pi pi-plus-circle"
            class="p-button-rounded p-button-text" style="margin-left: 45px; font-size: 25px;"></button>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="rowexpansion" let-rowData let-columns="columns">
      <tr>
        <td [attr.colspan]="columns.length + 2">
          <div>
            <p-table [value]="rowData.subSections" tableStyleClass="kx-table kx-table--outer-border" autoLayout="true">
              <ng-template pTemplate="body" let-rowData>
      <tr>
        <!-- <td></td> -->
        <td style ="width: 25rem;"></td>
        <td style ="width: 23rem;">{{ rowData.name }}</td>
        <td  style ="width: 17rem;padding-left: 2rem;">{{ sectionStatus[rowData.status] }}</td>
        <td style="width: 29rem;padding-right: 8rem;">
          <button pButton pRipple type="button" icon="pi pi-pencil" class="p-button-rounded p-button-text"
            style="margin-left: 15px;font-size: 25px;"></button>
          <button pButton pRipple type="button" icon="pi pi-trash" class="p-button-rounded p-button-text"
            style="margin-left: 15px;font-size: 25px;"></button>
          <button pButton pRipple type="button" icon="pi pi-plus-circle" class="p-button-rounded p-button-text"
            style="margin-left: 45px; font-size: 25px;"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
</td>
</tr>
</ng-template>
</p-table>
</div>
