<div class="kx-row">
    <div class="kx-col kx-col--4  kx-p--small">
        <app-dynamic-form [formValues]="formValues" [config]="config" (formSubmitted)="formSubmitted($event)">
        </app-dynamic-form>
    </div>
    <div class="kx-col kx-col--8 kx-p--small">
        <div class="kx-card kx-card--skin-default">
            <div class="kx-p--medium">
                <app-load *ngIf="isDataLoading"></app-load>
                <p-table *ngIf="!isDataLoading" #tt [value]="subOperationsList" [columns]="subOperationCols">
                    <ng-template pTemplate="header" let-columns>
                        <tr>
                            <th *ngFor="let col of columns" [pSortableColumn]="col.field"
                                class="u--cursorPointer kx-p--xlarge">
                                {{col.header}}
                                <p-sortIcon [field]="col.field" ariaLabel="Activate to sort"
                                    ariaLabelDesc="Activate to sort in descending order"
                                    ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
                            </th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-rowData let-columns="columns">
                        <tr>
                            <td *ngFor="let col of columns">
                                <div [ngSwitch]="col.field">
                                    <div *ngSwitchCase="'SubOperationStartTime'">
                                        {{rowData[col.field] | date:'dd/MM/yyyy HH:mm'}}
                                    </div>
                                    <div *ngSwitchCase="'SubOperationEndTime'">
                                        {{rowData[col.field] | date:'dd/MM/yyyy HH:mm'}}
                                    </div>
                                    <div *ngSwitchCase="'Action'">
                                        <button [disabled]="rowData.Status !== 'New'"
                                            class="kx-btn kx-btn--skin-secondary kx-btn--size-tiny kx-btn--icon"
                                            aria-label="Edit Sub Operational Plan"
                                            title="Edit Sub Operational Plan"
                                            (click)="editData(rowData)">
                                            <span class="kx-btn__inner">
                                                <i class="kx-icon kx-icon--size-moderate">
                                                    <svg focusable="false">
                                                        <use href="../../assets/img/icons/sprites/icons.svg#pencil">
                                                        </use>
                                                    </svg>
                                                </i>
                                                <span class="kx-btn__txt kx-is-vishidden">Edit Sub Operational
                                                    Plan</span>
                                            </span>
                                        </button>
                                        <button [disabled]="rowData.Status !== 'New'"
                                            class="kx-btn kx-btn--skin-secondary kx-btn--size-tiny kx-btn--icon"
                                            aria-label="Complete Sub Operational Plan"
                                            title="Complete Sub Operational Plan"
                                            (click)="completeSubOperation(rowData)">
                                            <span class="kx-btn__inner">
                                                <i class="kx-icon kx-icon--size-moderate">
                                                    <svg focusable="false">
                                                        <use href="../../assets/img/icons/sprites/icons.svg#check">
                                                        </use>
                                                    </svg>
                                                </i>
                                                <span class="kx-btn__txt kx-is-vishidden">Complete Sub Operational
                                                    Plan</span>
                                            </span>
                                        </button>
                                    </div>
                                    <div *ngSwitchDefault>{{rowData[col.field]}}</div>
                                </div>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>
    </div>
</div>