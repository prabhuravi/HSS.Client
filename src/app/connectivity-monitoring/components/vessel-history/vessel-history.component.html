<app-load *ngIf="!cachedVesselDetails"></app-load>
<div class="kx-row">
    <div class="kx-col kx-col--4">
        <div class="kx-row kx-card kx-card--skin-default">
            <div class="kx-card__header">
                <h3 class="kx-card__title">GSN</h3>
            </div>
            <div class="kx-card__body card-body kx-p--small">
                <div class="kx-row">
                    <div class="kx-col kx-col--6">
                        <label class="kx-label">Node Number:</label>
                        <div class="kx-mt--tiny">
                            {{cachedVesselDetails && cachedVesselDetails.NodeNumber  ? cachedVesselDetails.NodeNumber : noData}}
                        </div>
                    </div>
                    <div class="kx-col kx-col--6">
                        <div class="kx-mt--tiny">
                            <label class="kx-label" for="selectbox1">Vessel Name :</label>
                            <div class="kx-mt--tiny">
                                <p-dropdown styleClass="kx-p--none" [(ngModel)]="selectedVessel"
                                    placeholder="Select Vessel" [options]="allVessels"
                                    (onChange)="changeVesselDetails()" optionLabel="Name" filter="true"></p-dropdown>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="kx-row">
                    <div class="kx-col kx-col--6">
                        <label class="kx-label">Status:</label>
                        <div class="kx-mt--tiny">
                            {{cachedVesselDetails && cachedVesselDetails.Status  ? cachedVesselDetails.Status : noData}}
                        </div>
                    </div>
                    <div class="kx-col kx-col--6">
                        <label class="kx-label">Latency:</label>
                        <div class="kx-mt--tiny">
                            {{cachedVesselDetails && cachedVesselDetails.LastLatency  ? cachedVesselDetails.LastLatency : noData}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="kx-col kx-col--6 kx-pl--small">
        <div class="kx-row kx-card kx-card--skin-default">
            <div class="kx-card__header">
                <h3 class="kx-card__title">SNMP</h3>
            </div>
            <div class="kx-card__body card-body kx-p--small">
                <div class="kx-row">
                    <div class="kx-col  kx-col--4">
                        <label class="kx-label">Network Type:</label>
                        <div class="kx-mt--tiny">
                            {{ vesselDetails && vesselDetails.NetworkType ? vesselDetails.NetworkType : noData}}
                        </div>
                    </div>
                    <div class="kx-col  kx-col--4">
                        <label class="kx-label">MCC:</label>
                        <div class="kx-mt--tiny">
                            {{ vesselDetails && vesselDetails.MCC ? vesselDetails.MCC : noData}}
                        </div>
                    </div>
                    <div class="kx-col  kx-col--4">
                        <label class="kx-label">Country:</label>
                        <div class="kx-mt--tiny">
                            {{ vesselDetails && vesselDetails.CountryName ? vesselDetails.CountryName : noData}}
                        </div>
                    </div>
                </div>
                <div class="kx-row">
                    <div class="kx-col  kx-col--4">
                        <label class="kx-label">APN:</label>
                        <div class="kx-mt--tiny">
                            {{ vesselDetails && vesselDetails.ApnName ? vesselDetails.ApnName : noData}}
                        </div>
                    </div>
                    <div class="kx-col  kx-col--4">

                        <label class="kx-label">Provider Name:</label>
                        <div class="kx-mt--tiny">
                            {{ vesselDetails && vesselDetails.ProviderName ? vesselDetails.ProviderName : noData}}
                        </div>
                    </div>
                    <div class="kx-col  kx-col--4">
                        <label class="kx-label">Router Position:</label>
                        <div class="kx-mt--tiny">
                            <span *ngIf="vesselDetails && !vesselDetails.Latitude">{{noData}}</span>
                            <span *ngIf="vesselDetails && vesselDetails.Latitude">
                                {{  vesselDetails.Latitude }}
                                {{ vesselDetails.Longitude }}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="kx-col kx-col--2 kx-pl--small">
        <div class="kx-card kx-card--skin-default" style="height: 198px;">
            <div class="kx-card__body kx-p--mini">
                <div class="row centerme">
                    <div class="kx-col kx-col--12">
                        <div *ngIf="!noGaugeData && chart && chart.data" class="kx-pl--small">
                            <google-chart #googlechart [title]="chart.title" [type]="chart.type" [data]="chart.data"
                                [options]="chart.options">
                            </google-chart>
                        </div>
                        <div *ngIf="noGaugeData">
                            {{noData}}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div #pcalendarRef></div>
<div class="kx-card kx-card--skin-default kx-mt--small">
    <div class="kx-p--mini">
        <div class="kx-row">
            <div class="kx-col kx-col--2">
                <label class="kx-label" for="selectbox1">Presets</label>
                <div class="kx-mt--tiny">
                    <p-dropdown styleClass="kx-p--none" [options]="presetOptions" (onChange)="onDropDownSelection();"
                        [(ngModel)]="selectedPreset" optionLabel="name"></p-dropdown>
                </div>
            </div>
            <div class="kx-col kx-col--2 kx-pr--large">
                <label class="kx-label" for="selectbox1">From Date</label>
                <div class="kx-mt--tiny">
                    <p-calendar [appendTo]="pcalendarRef" inputStyleClass="kx-field kx-field--size-small"
                        (onSelect)="getLatencyTrendData()" [(ngModel)]="fromDate" showTime="true" hourFormat="24"
                        showButtonBar="true" [placeholder]="PRIMENG_CONSTANTS.datepickerFormat"
                        [dateFormat]="PRIMENG_CONSTANTS.datepickerFormat"></p-calendar>
                </div>
            </div>
            <div class="kx-col kx-col--2 kx-pr--large">
                <label class="kx-label" for="selectbox1">To Date</label>
                <div class="kx-mt--tiny">
                    <p-calendar [appendTo]="pcalendarRef" inputStyleClass="kx-field kx-field--size-small"
                        [minDate]="fromDate" (onSelect)="getLatencyTrendData()" [(ngModel)]="toDate" showTime="true"
                        hourFormat="24" showButtonBar="true" [placeholder]="PRIMENG_CONSTANTS.datepickerFormat"
                        [dateFormat]="PRIMENG_CONSTANTS.datepickerFormat"></p-calendar>
                </div>
            </div>
            <div class="kx-col kx-col--2">
                <button class="kx-btn kx-btn--skin-primary kx-btn--size-base kx-mt--medium  kx-mr--large"
                    (click)="filterData()">
                    <span class="kx-btn__inner">
                        <span class="kx-btn__txt">Filter</span>
                    </span>
                </button>
                <button (click)="resetDate()" class="kx-btn kx-btn--skin-primary kx-btn--size-base kx-mt--medium">
                    <span class="kx-btn__inner">
                        <span class="kx-btn__txt">Reset</span>
                    </span>
                </button>
            </div>
        </div>
    </div>
</div>
<div class="kx-row kx-mt--small">
    <div class="kx-col kx-col--6" [ngClass]="{'kx-col--12' : viewFullChart }">
        <span title="toggle full screen" (click)="viewFullChart=!viewFullChart;viewFullMap=false;" [ngClass]="{'pull-right' : viewFullChart }"
            class="kx-navigation-icon collapse-icon"><i
                class="kx-icon kx-icon--size-moderate kx-m--mini toggle-navigation open-navigation collapsed"
                id="open-navigation"><svg _ngcontent-ghn-c3="" aria-hidden="true" focusable="false">
                    <use *ngIf="!viewFullChart" _ngcontent-ghn-c3="" xmlns:xlink="http://www.w3.org/1999/xlink"
                        xlink:href="./assets/img/icons/sprites/icons.svg#chevron-right"></use>
                    <use *ngIf="viewFullChart" _ngcontent-ghn-c3="" xmlns:xlink="http://www.w3.org/1999/xlink"
                        xlink:href="./assets/img/icons/sprites/icons.svg#chevron-left"></use>
                </svg></i></span>
        <div class="charts">
            <app-chart [viewFullChart]="viewFullChart" [chartId]="'chart1'" [latencyRequest]="latencyRequest">
            </app-chart>
        </div>
    </div>
    <div class="kx-col kx-col--6" [ngClass]="{'kx-col--12' : !viewFullChart && viewFullMap }">
        <div class="row" style="margin-left:10px">
            <app-map [showMap]="showMap" [aisRequest]="aisRequest"></app-map>
        </div>
    </div>
</div>